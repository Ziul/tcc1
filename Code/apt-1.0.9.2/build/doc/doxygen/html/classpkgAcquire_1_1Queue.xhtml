<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>apt: pkgAcquire::Queue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">apt
   &#160;<span id="projectnumber">1.0.9.2</span>
   </div>
   <div id="projectbrief">commandline package manager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.xhtml"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.xhtml"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.xhtml"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.xhtml"><span>Classes</span></a></li>
      <li><a href="files.xhtml"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.xhtml"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.xhtml"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.xhtml"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="classpkgAcquire.xhtml">pkgAcquire</a></li><li class="navelem"><a class="el" href="classpkgAcquire_1_1Queue.xhtml">Queue</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classpkgAcquire_1_1Queue-members.xhtml">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pkgAcquire::Queue Class Reference<div class="ingroups"><a class="el" href="group__acquire.xhtml">Acquire system					{{{</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A single download queue in a <a class="el" href="classpkgAcquire.xhtml" title="The core download scheduler. {{{. ">pkgAcquire</a> object. {{{.  
 <a href="classpkgAcquire_1_1Queue.xhtml#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="acquire_8h_source.xhtml">apt-pkg/acquire.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for pkgAcquire::Queue:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classpkgAcquire_1_1Queue__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.xhtml">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">QItem</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A single item placed in this queue.  <a href="structpkgAcquire_1_1Queue_1_1QItem.xhtml#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2af342681f220fe125323f83c45dd074"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a2af342681f220fe125323f83c45dd074">Enqueue</a> (<a class="el" href="structpkgAcquire_1_1ItemDesc.xhtml">ItemDesc</a> &amp;<a class="el" href="classpkgAcquire_1_1Item.xhtml">Item</a>)</td></tr>
<tr class="memdesc:a2af342681f220fe125323f83c45dd074"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert the given fetch request into this queue.  <a href="#a2af342681f220fe125323f83c45dd074">More...</a><br/></td></tr>
<tr class="separator:a2af342681f220fe125323f83c45dd074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875744fa53902d8821377a9222166a47"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a875744fa53902d8821377a9222166a47">Dequeue</a> (<a class="el" href="classpkgAcquire_1_1Item.xhtml">Item</a> *<a class="el" href="classpkgAcquire_1_1Queue.xhtml#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a>)</td></tr>
<tr class="memdesc:a875744fa53902d8821377a9222166a47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all fetch requests for the given item from this queue.  <a href="#a875744fa53902d8821377a9222166a47">More...</a><br/></td></tr>
<tr class="separator:a875744fa53902d8821377a9222166a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac539c6aecc512845b56ae705f7686a58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">QItem</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#ac539c6aecc512845b56ae705f7686a58">FindItem</a> (std::string <a class="el" href="classURI.xhtml">URI</a>, <a class="el" href="classpkgAcquire_1_1Worker.xhtml">pkgAcquire::Worker</a> *<a class="el" href="classpkgAcquire_1_1Queue.xhtml#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a>) APT_PURE</td></tr>
<tr class="memdesc:ac539c6aecc512845b56ae705f7686a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locate an item in this queue.  <a href="#ac539c6aecc512845b56ae705f7686a58">More...</a><br/></td></tr>
<tr class="separator:ac539c6aecc512845b56ae705f7686a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f3403ec41517cce48d96a5b1f54e1e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a76f3403ec41517cce48d96a5b1f54e1e">ItemStart</a> (<a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">QItem</a> *Itm, unsigned long long Size)</td></tr>
<tr class="separator:a76f3403ec41517cce48d96a5b1f54e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc41a112e43fd568e47e7a9c682112c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a6dc41a112e43fd568e47e7a9c682112c">ItemDone</a> (<a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">QItem</a> *Itm)</td></tr>
<tr class="memdesc:a6dc41a112e43fd568e47e7a9c682112c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the given item from this queue and set its state to <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9a875850b5de48d7a0ae71c47fbbef4832" title="The item has been successfully downloaded. ">pkgAcquire::Item::StatDone</a>.  <a href="#a6dc41a112e43fd568e47e7a9c682112c">More...</a><br/></td></tr>
<tr class="separator:a6dc41a112e43fd568e47e7a9c682112c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4442bc1bb880bd798d3c08a153364b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#ab4442bc1bb880bd798d3c08a153364b8">Startup</a> ()</td></tr>
<tr class="memdesc:ab4442bc1bb880bd798d3c08a153364b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the worker process associated with this queue.  <a href="#ab4442bc1bb880bd798d3c08a153364b8">More...</a><br/></td></tr>
<tr class="separator:ab4442bc1bb880bd798d3c08a153364b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0483a6e5db0c15e5445bcc6a00262204"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a0483a6e5db0c15e5445bcc6a00262204">Shutdown</a> (bool Final)</td></tr>
<tr class="memdesc:a0483a6e5db0c15e5445bcc6a00262204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shut down the worker process associated with this queue.  <a href="#a0483a6e5db0c15e5445bcc6a00262204">More...</a><br/></td></tr>
<tr class="separator:a0483a6e5db0c15e5445bcc6a00262204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b2dd956b1adc90b13d47e26121d5486"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a5b2dd956b1adc90b13d47e26121d5486">Cycle</a> ()</td></tr>
<tr class="memdesc:a5b2dd956b1adc90b13d47e26121d5486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send idle items to the worker process.  <a href="#a5b2dd956b1adc90b13d47e26121d5486">More...</a><br/></td></tr>
<tr class="separator:a5b2dd956b1adc90b13d47e26121d5486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4fe627ab803887ecd2a8af30f17147"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#abf4fe627ab803887ecd2a8af30f17147">Bump</a> ()</td></tr>
<tr class="memdesc:abf4fe627ab803887ecd2a8af30f17147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for items that could be enqueued.  <a href="#abf4fe627ab803887ecd2a8af30f17147">More...</a><br/></td></tr>
<tr class="separator:abf4fe627ab803887ecd2a8af30f17147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5910193ab81fcc3e1d940ae25f30e9a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a5910193ab81fcc3e1d940ae25f30e9a4">Queue</a> (std::string <a class="el" href="classpkgAcquire_1_1Queue.xhtml#adc852f586959ce13117d737cf3f14899">Name</a>, <a class="el" href="classpkgAcquire.xhtml">pkgAcquire</a> *<a class="el" href="classpkgAcquire_1_1Queue.xhtml#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a>)</td></tr>
<tr class="memdesc:a5910193ab81fcc3e1d940ae25f30e9a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classpkgAcquire_1_1Queue.xhtml" title="A single download queue in a pkgAcquire object. {{{. ">Queue</a>.  <a href="#a5910193ab81fcc3e1d940ae25f30e9a4">More...</a><br/></td></tr>
<tr class="separator:a5910193ab81fcc3e1d940ae25f30e9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a240bdcfcc136e53aeaac3aa454cc26bf"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a240bdcfcc136e53aeaac3aa454cc26bf">~Queue</a> ()</td></tr>
<tr class="separator:a240bdcfcc136e53aeaac3aa454cc26bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:adc852f586959ce13117d737cf3f14899"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc852f586959ce13117d737cf3f14899"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#adc852f586959ce13117d737cf3f14899">Name</a></td></tr>
<tr class="memdesc:adc852f586959ce13117d737cf3f14899"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of this queue. <br/></td></tr>
<tr class="separator:adc852f586959ce13117d737cf3f14899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4e8b582eeece0747d3fee5858b1a27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">QItem</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a2f4e8b582eeece0747d3fee5858b1a27">Items</a></td></tr>
<tr class="memdesc:a2f4e8b582eeece0747d3fee5858b1a27"><td class="mdescLeft">&#160;</td><td class="mdescRight">The head of the list of items contained in this queue.  <a href="#a2f4e8b582eeece0747d3fee5858b1a27">More...</a><br/></td></tr>
<tr class="separator:a2f4e8b582eeece0747d3fee5858b1a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae49de4816f8591cf1ccb70329d4dcb8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpkgAcquire_1_1Worker.xhtml">pkgAcquire::Worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#ae49de4816f8591cf1ccb70329d4dcb8c">Workers</a></td></tr>
<tr class="memdesc:ae49de4816f8591cf1ccb70329d4dcb8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The head of the list of workers associated with this queue.  <a href="#ae49de4816f8591cf1ccb70329d4dcb8c">More...</a><br/></td></tr>
<tr class="separator:ae49de4816f8591cf1ccb70329d4dcb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f8c48f1e7f5669a16a9d5e863edd10"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76f8c48f1e7f5669a16a9d5e863edd10"></a>
<a class="el" href="classpkgAcquire.xhtml">pkgAcquire</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a76f8c48f1e7f5669a16a9d5e863edd10">Owner</a></td></tr>
<tr class="memdesc:a76f8c48f1e7f5669a16a9d5e863edd10"><td class="mdescLeft">&#160;</td><td class="mdescRight">the download scheduler with which this queue is associated. <br/></td></tr>
<tr class="separator:a76f8c48f1e7f5669a16a9d5e863edd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9221078b3948388493f1b8360589b6e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9221078b3948388493f1b8360589b6e1"></a>
signed long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#a9221078b3948388493f1b8360589b6e1">PipeDepth</a></td></tr>
<tr class="memdesc:a9221078b3948388493f1b8360589b6e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of entries in this queue that are currently being downloaded. <br/></td></tr>
<tr class="separator:a9221078b3948388493f1b8360589b6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe522e42f9b11c8444f4a35369b8b16c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe522e42f9b11c8444f4a35369b8b16c"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpkgAcquire_1_1Queue.xhtml#afe522e42f9b11c8444f4a35369b8b16c">MaxPipeDepth</a></td></tr>
<tr class="memdesc:afe522e42f9b11c8444f4a35369b8b16c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of entries that this queue will attempt to download at once. <br/></td></tr>
<tr class="separator:afe522e42f9b11c8444f4a35369b8b16c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ae9e04de9ce779a3c0ad0b7142f7332d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9e04de9ce779a3c0ad0b7142f7332d7"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>pkgAcquire</b></td></tr>
<tr class="separator:ae9e04de9ce779a3c0ad0b7142f7332d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3074688254f637a6916a11ffdf045e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f3074688254f637a6916a11ffdf045e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>pkgAcquire::UriIterator</b></td></tr>
<tr class="separator:a8f3074688254f637a6916a11ffdf045e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98fe6798c77be5d7d2d21d21b650d860"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98fe6798c77be5d7d2d21d21b650d860"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>pkgAcquire::Worker</b></td></tr>
<tr class="separator:a98fe6798c77be5d7d2d21d21b650d860"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A single download queue in a <a class="el" href="classpkgAcquire.xhtml" title="The core download scheduler. {{{. ">pkgAcquire</a> object. {{{. </p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000023">Todo:</a></b></dt><dd>Why so many protected values? </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5910193ab81fcc3e1d940ae25f30e9a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpkgAcquire_1_1Queue.xhtml">Queue</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpkgAcquire.xhtml">pkgAcquire</a> *&#160;</td>
          <td class="paramname"><em>Owner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classpkgAcquire_1_1Queue.xhtml" title="A single download queue in a pkgAcquire object. {{{. ">Queue</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Name</td><td>The name of the new queue. </td></tr>
    <tr><td class="paramname">Owner</td><td>The download process that owns the new queue. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classpkgAcquire_1_1Queue.xhtml#a2f4e8b582eeece0747d3fee5858b1a27">Items</a>, <a class="el" href="classpkgAcquire_1_1Queue.xhtml#afe522e42f9b11c8444f4a35369b8b16c">MaxPipeDepth</a>, <a class="el" href="classpkgAcquire_1_1Queue.xhtml#a9221078b3948388493f1b8360589b6e1">PipeDepth</a>, and <a class="el" href="classpkgAcquire_1_1Queue.xhtml#ae49de4816f8591cf1ccb70329d4dcb8c">Workers</a>.</p>

</div>
</div>
<a class="anchor" id="a240bdcfcc136e53aeaac3aa454cc26bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classpkgAcquire_1_1Queue.xhtml">Queue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Shut down all the worker processes associated with this queue and empty the queue. </p>

<p>References <a class="el" href="classpkgAcquire.xhtml#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>, and <a class="el" href="classpkgAcquire.xhtml#ac5f038c2b480cf9ef5e19e3eba8dbaf9">pkgAcquire::Shutdown()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abf4fe627ab803887ecd2a8af30f17147"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Bump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for items that could be enqueued. </p>
<p>Call this after an item placed in multiple queues has gone from the <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9a2438768d0d80b2bcbf37ffa6bae5d445" title="The item is currently being downloaded. ">pkgAcquire::Item::StatFetching</a> state to the <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9aafe4203baf90d29ba26cdca204795329" title="The item is waiting to be downloaded. ">pkgAcquire::Item::StatIdle</a> state, to possibly refill an empty queue. This is an alias for <a class="el" href="classpkgAcquire_1_1Queue.xhtml#a5b2dd956b1adc90b13d47e26121d5486" title="Send idle items to the worker process. ">Cycle()</a>.</p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000032">Todo:</a></b></dt><dd>Why both this and <a class="el" href="classpkgAcquire_1_1Queue.xhtml#a5b2dd956b1adc90b13d47e26121d5486" title="Send idle items to the worker process. ">Cycle()</a>? Are they expected to be different someday? </dd></dl>

</div>
</div>
<a class="anchor" id="a5b2dd956b1adc90b13d47e26121d5486"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Cycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send idle items to the worker process. </p>
<p>Fills up the pipeline by inserting idle items into the worker's queue. </p>

<p>References <a class="el" href="classpkgAcquire.xhtml#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>, <a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml#a331709a06ee01c37a13929a1c7fb789d">pkgAcquire::Queue::QItem::Next</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.xhtml#a991ea711651b5d291202505da64e379c">pkgAcquire::ItemDesc::Owner</a>, <a class="el" href="classpkgAcquire_1_1Worker.xhtml#a37fbf2dea83d49ebf053ecc76c5b39b3">pkgAcquire::Worker::QueueItem()</a>, <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9a2438768d0d80b2bcbf37ffa6bae5d445">pkgAcquire::Item::StatFetching</a>, <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9aafe4203baf90d29ba26cdca204795329">pkgAcquire::Item::StatIdle</a>, <a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml#a9350fcccd89c15edaa037641ad85f88b">pkgAcquire::Queue::QItem::Worker</a>, and <a class="el" href="classpkgAcquire.xhtml#adfb69296d9a50a92927df7c30e56be2e">pkgAcquire::Workers</a>.</p>

</div>
</div>
<a class="anchor" id="a875744fa53902d8821377a9222166a47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dequeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpkgAcquire_1_1Item.xhtml">Item</a> *&#160;</td>
          <td class="paramname"><em>Owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all fetch requests for the given item from this queue. </p>
<dl class="section return"><dt>Returns</dt><dd><b>true</b> if at least one request was removed from the queue. </dd></dl>

<p>References <a class="el" href="classpkgAcquire.xhtml#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>, <a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml#a331709a06ee01c37a13929a1c7fb789d">pkgAcquire::Queue::QItem::Next</a>, <a class="el" href="classpkgAcquire_1_1Item.xhtml#a1d1d5538b9875279b01b81e1ef494601">pkgAcquire::Item::QueueCounter</a>, and <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9a2438768d0d80b2bcbf37ffa6bae5d445">pkgAcquire::Item::StatFetching</a>.</p>

<p>Referenced by <a class="el" href="classpkgAcquire.xhtml#ad88e269d0297439604f25eb9c1309286">pkgAcquire::Dequeue()</a>.</p>

</div>
</div>
<a class="anchor" id="a2af342681f220fe125323f83c45dd074"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpkgAcquire_1_1ItemDesc.xhtml">ItemDesc</a> &amp;&#160;</td>
          <td class="paramname"><em>Item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert the given fetch request into this queue. </p>
<dl class="section return"><dt>Returns</dt><dd><b>true</b> if the queuing was successful. May return <b>false</b> if the <a class="el" href="classpkgAcquire_1_1Item.xhtml" title="Represents the process by which a pkgAcquire object should {{{ retrieve a file or a collection of fil...">Item</a> is already in the queue </dd></dl>

<p>References <a class="el" href="classpkgAcquire.xhtml#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>, <a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml#a331709a06ee01c37a13929a1c7fb789d">pkgAcquire::Queue::QItem::Next</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.xhtml#a991ea711651b5d291202505da64e379c">pkgAcquire::ItemDesc::Owner</a>, <a class="el" href="classpkgAcquire_1_1Item.xhtml#a1d1d5538b9875279b01b81e1ef494601">pkgAcquire::Item::QueueCounter</a>, <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9a875850b5de48d7a0ae71c47fbbef4832">pkgAcquire::Item::StatDone</a>, and <a class="el" href="structpkgAcquire_1_1ItemDesc.xhtml#aaf8eea5037c53d12d3f31ab9e032712c">pkgAcquire::ItemDesc::URI</a>.</p>

<p>Referenced by <a class="el" href="classpkgAcquire.xhtml#adff4865b0b932d7c8dae0aee44006c13">pkgAcquire::Enqueue()</a>.</p>

</div>
</div>
<a class="anchor" id="ac539c6aecc512845b56ae705f7686a58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">pkgAcquire::Queue::QItem</a> * FindItem </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>URI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpkgAcquire_1_1Worker.xhtml">pkgAcquire::Worker</a> *&#160;</td>
          <td class="paramname"><em>Owner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Locate an item in this queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="classURI.xhtml">URI</a></td><td>A <a class="el" href="classURI.xhtml">URI</a> to match against. </td></tr>
    <tr><td class="paramname">Owner</td><td>A <a class="el" href="classpkgAcquire_1_1Worker.xhtml" title="A fetch subprocess. ">pkgAcquire::Worker</a> to match against.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the first item in the queue whose <a class="el" href="classURI.xhtml">URI</a> is <a class="el" href="classURI.xhtml">URI</a> and that is being downloaded by <a class="el" href="classpkgAcquire_1_1Queue.xhtml#a76f8c48f1e7f5669a16a9d5e863edd10" title="the download scheduler with which this queue is associated. ">Owner</a>. </dd></dl>

<p>References <a class="el" href="classpkgAcquire.xhtml#a8089d1f0a2e10710afe1d1488a1f1f72">pkgAcquire::Items</a>.</p>

</div>
</div>
<a class="anchor" id="a6dc41a112e43fd568e47e7a9c682112c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ItemDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">QItem</a> *&#160;</td>
          <td class="paramname"><em>Itm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the given item from this queue and set its state to <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9a875850b5de48d7a0ae71c47fbbef4832" title="The item has been successfully downloaded. ">pkgAcquire::Item::StatDone</a>. </p>
<p>If this is the only queue containing the item, the item is also removed from the main queue by calling <a class="el" href="classpkgAcquire.xhtml#ad88e269d0297439604f25eb9c1309286" title="Remove all fetch requests for this item from all queues. ">pkgAcquire::Dequeue</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Itm</td><td>The item to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><b>true</b> if no errors are encountered. </dd></dl>

<p>References <a class="el" href="classpkgAcquire.xhtml#ad88e269d0297439604f25eb9c1309286">pkgAcquire::Dequeue()</a>, <a class="el" href="structpkgAcquire_1_1ItemDesc.xhtml#a991ea711651b5d291202505da64e379c">pkgAcquire::ItemDesc::Owner</a>, <a class="el" href="classpkgAcquire_1_1Item.xhtml#a1d1d5538b9875279b01b81e1ef494601">pkgAcquire::Item::QueueCounter</a>, <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9a875850b5de48d7a0ae71c47fbbef4832">pkgAcquire::Item::StatDone</a>, and <a class="el" href="classpkgAcquire_1_1Item.xhtml#abd4abbf0fe1f8b5299675b590315b4b9a2438768d0d80b2bcbf37ffa6bae5d445">pkgAcquire::Item::StatFetching</a>.</p>

</div>
</div>
<a class="anchor" id="a76f3403ec41517cce48d96a5b1f54e1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ItemStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">QItem</a> *&#160;</td>
          <td class="paramname"><em>Itm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Presumably this should start downloading an item?</p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000031">Todo:</a></b></dt><dd>Unimplemented. Implement it or remove? </dd></dl>

</div>
</div>
<a class="anchor" id="a0483a6e5db0c15e5445bcc6a00262204"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Shutdown </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Final</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shut down the worker process associated with this queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Final</td><td>If <b>true</b>, then the process is stopped unconditionally. Otherwise, it is only stopped if it does not need cleanup as indicated by the pkgAcqMethod::NeedsCleanup member of its configuration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><b>true</b>. </dd></dl>

<p>References <a class="el" href="classpkgAcquire_1_1Worker.xhtml#af6ace6a8dd9e4dd8d12815078706b00c">pkgAcquire::Worker::GetConf()</a>, <a class="el" href="structpkgAcquire_1_1MethodConfig.xhtml#a18ab15b6a105e10118c35973765cce34">pkgAcquire::MethodConfig::NeedsCleanup</a>, <a class="el" href="classpkgAcquire_1_1Worker.xhtml#a70b012fdfb38bfe94b52924d45c5462d">pkgAcquire::Worker::NextQueue</a>, and <a class="el" href="classpkgAcquire.xhtml#adfb69296d9a50a92927df7c30e56be2e">pkgAcquire::Workers</a>.</p>

</div>
</div>
<a class="anchor" id="ab4442bc1bb880bd798d3c08a153364b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Startup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the worker process associated with this queue. </p>
<p>If a worker process is already associated with this queue, this is equivalent to calling <a class="el" href="classpkgAcquire_1_1Queue.xhtml#a5b2dd956b1adc90b13d47e26121d5486" title="Send idle items to the worker process. ">Cycle()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd><b>true</b> if the startup was successful. </dd></dl>

<p>References <a class="el" href="structpkgAcquire_1_1MethodConfig.xhtml#a184f137ba7f14f7867d1480d05645973">pkgAcquire::MethodConfig::Pipeline</a>, <a class="el" href="classpkgAcquire_1_1Worker.xhtml#aa70efaa4751ac6d5d54dce88fe725e0a">pkgAcquire::Worker::Start()</a>, and <a class="el" href="classpkgAcquire.xhtml#adfb69296d9a50a92927df7c30e56be2e">pkgAcquire::Workers</a>.</p>

<p>Referenced by <a class="el" href="classpkgAcquire.xhtml#adff4865b0b932d7c8dae0aee44006c13">pkgAcquire::Enqueue()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2f4e8b582eeece0747d3fee5858b1a27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpkgAcquire_1_1Queue_1_1QItem.xhtml">QItem</a>* Items</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The head of the list of items contained in this queue. </p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000028">Todo:</a></b></dt><dd>why a by-hand list instead of an STL structure? </dd></dl>

<p>Referenced by <a class="el" href="classpkgAcquire_1_1Queue.xhtml#a5910193ab81fcc3e1d940ae25f30e9a4">Queue()</a>, and <a class="el" href="classpkgAcquire_1_1UriIterator.xhtml#ad7be95273598f4fcd8b0279f7f8145fc">pkgAcquire::UriIterator::UriIterator()</a>.</p>

</div>
</div>
<a class="anchor" id="ae49de4816f8591cf1ccb70329d4dcb8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpkgAcquire_1_1Worker.xhtml">pkgAcquire::Worker</a>* Workers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The head of the list of workers associated with this queue. </p>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000029">Todo:</a></b></dt><dd>This is plural because support exists in <a class="el" href="classpkgAcquire_1_1Queue.xhtml" title="A single download queue in a pkgAcquire object. {{{. ">Queue</a> for multiple workers. However, it does not appear that there is any way to actually associate more than one worker with a queue.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.xhtml#_todo000030">Todo:</a></b></dt><dd>Why not just use a std::set? </dd></dl>

<p>Referenced by <a class="el" href="classpkgAcquire_1_1Queue.xhtml#a5910193ab81fcc3e1d940ae25f30e9a4">Queue()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>apt-pkg/<a class="el" href="acquire_8h_source.xhtml">acquire.h</a></li>
<li>apt-pkg/acquire.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
